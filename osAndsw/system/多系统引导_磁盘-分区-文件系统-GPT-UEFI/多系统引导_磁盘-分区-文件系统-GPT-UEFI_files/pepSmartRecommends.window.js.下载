!function(e,t){e.pepSmartRecommends=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/build/",n(n.s=4)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}},function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.render=function(e){var t=l(l({},f),e),n=t.customerId,r=t.content,a=t.extend,i=t.containerSelector,s=t.size,u=t.adType,m=t.extParams,h=t.error,_=t.adPlan,y=p(a);y.adPlan&&(_=y.adPlan);var g=document.querySelector(i);if(!g)return void console.warn("找不到渲染内容的容器");!function(e){var t=e.customerId,n=e.adType,r=e.adPlan,a=e.extParams,o=e.size,i=e.content,s=e.extend,d=e.success,u=e.error;!function(e){var t=e.customerId,n=e.extend,r=e.adType,a=e.extParams,o=e.size,i=e.success,s=e.error,d=p(n),u=p(a),f=d.adPlan;if("0"!==r){if(!t)return console.error("参数customerId不能为空！"),void s();if(!f)return console.error("参数adPlan不能为空！"),void s();var m=b(767)?"PC":"MOBILE",h=-1!==window.location.href.indexOf("ulanqab.huawei.com")||-1!==window.location.href.indexOf("ulanqab.huawei.com")?"https://portal.ulanqab.huawei.com/rest/cbc/portalapppublishservice/v1/ad/intelligent":"https://portal.huaweicloud.com/rest/cbc/portalapppublishservice/v1/ad/intelligent",_=[],y={count:10,planCode:f,customerId:t,type:m};!(g=u)||0===Object.keys(g).length&&g.constructor===Object||Object.keys(u).forEach((function(e){y[e]=u[e]})),_.push({url:h,headers:{"x-auth-customerId":t},xhrFields:{withCredentials:!1},data:y}),(0,c.ajaxMultiple)(_,(function(){}),(function(){}),(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(n&&n.status&&n.data&&0!==n.data.content.length))return i(v(l(l({},e),d))),void s();i(v(l({customerId:t,size:o},n.data)))}))}else i(v(l(l({},e),d)));var g}({customerId:t,adPlan:r,adType:n,size:o,extParams:a,content:i,extend:s,success:function(e){if(e&&0!==e.length){var t=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.firstElementChild;return t.removeChild(n),n}(function(e){var t="",n="100%",r="100%";return e.forEach((function(e){var a="";e.width&&(n=e.width),e.height&&(r=e.height);var o=["ad_assetname","ad_name"];Object.keys(e.mate).forEach((function(t){!o.includes(t)&&e.mate[t]&&(a+=" bi_rec_param_".concat(t,'="').concat(e.mate[t]||"",'"'))})),o.forEach((function(t){a+=" data_".concat(t,'="').concat(e.mate[t]||"",'"')}));var i='\n            <a  class="pep-smart-recommend-img-card" href="'.concat(e.href,'" ').concat(a,' target="_blank" bi_rec_name="').concat(e.mate.ad_assetname,'">  \n                <img class="portal-smart-recommends-card-title" src="').concat(e.assetUrl,'"/>\n            </a>\n        ');t+=i})),'\n        <div class="pep-ad-img-wrapper" style="width:'.concat(n,";height:").concat(r,';">\n            ').concat(t,"\n        </div>")}(e)),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"defaults",t={defaults:"\n            .pep-ad-img-wrapper{\n                box-sizing: border-box;\n                display: block;\n                position: relative;\n                text-decoration: none;\n                overflow: hidden;\n                margin:0px auto;\n            }\n            .pep-smart-recommend-img-card img {\n                width: 100%;\n                height: auto;\n            }\n        "},n=t[e]||t.defaults,r=document.createElement("style");return r.textContent=n,r}();t.insertBefore(n,t.firstChild),e&&0!==e.length?d(t,e):u()}},error:u})}({adType:u,containerSelector:i,customerId:n,adPlan:_,extend:a,size:s,extParams:m,content:r,success:function(e){g.innerHTML="",g.appendChild(e),function(e){Array.from(e.querySelectorAll("a")).forEach((function(e){var t=null;e.addEventListener("mousedown",(function(){var n;if(window.onEvent)if(t){var s;(s=window).onEvent.apply(s,(0,o.default)(t))}else{var d=r("click",e),u=i(e),f=a(e),p=l({},c(e));t=[f,d,u,1,p],(n=window).onEvent.apply(n,(0,o.default)(t))}}))}));var t=function t(){var n;if(window.onEvent){var o=["rec_material","rec_source","rec_position"],s="",d="",u="",f={};Array.from(e.querySelectorAll("a")).forEach((function(t){var n=l({},c(t));Object.keys(n).forEach((function(e){var t=f[e];t?-1!==o.indexOf(e)&&(f[e]=t+";"+n[e]):f[e]=n[e]})),d||(d=a(t)),u||(u=i(t,e)),s||(s=r("view",t))}));var p=[d,s,u,1,f];(n=window).onEvent.apply(n,p)}else setTimeout((function(){t()}),200)};if((0,d.default)(e))t();else{var n=function n(){(0,d.default)(e)&&(window.removeEventListener("scroll",n),window.removeEventListener("resize",n),console.log("trigger report"),t())};window.addEventListener("scroll",n),window.addEventListener("resize",n)}function r(e,t){var n=t&&t.getAttribute("data_ad_assetname")||"";return"".concat(e,"_").concat(n)}function a(e){var t=window.location,n=window.location.pathname,r=n.substring(n.lastIndexOf("/")+1,n.indexOf(".")),a=e&&(e.getAttribute("data_ad_name")||e.innerText.trim())||"",o=e&&(e.getAttribute("bi_rec_param_rec_position")||e.innerText.trim())||"";return"".concat(r,"_").concat(a,"_").concat(o,"_").concat(t.href)}function i(e,t){var n=e&&e.getAttribute("bi_rec_param_ad_plan")||"",r=e&&e.getAttribute("bi_rec_param_ad_space")||"",a=[];t?Array.from(t.querySelectorAll("a")).forEach((function(e){e&&e.getAttribute("bi_rec_param_ad_assetid")&&a.push(e.getAttribute("bi_rec_param_ad_assetid"))})):a.push(e&&(e.getAttribute("bi_rec_param_ad_assetid")||e.innerText.trim())||"");var o=a.filter((function(e){return e})).join(";");return"ad_".concat(r,"_").concat(n,"_").concat(o)}function c(e){var t={};return Array.from(e.attributes).forEach((function(e){if(0===e.name.indexOf("bi_rec_param_")){var n=e.name.substring("bi_rec_param_".length);t[n]=e.value}})),t}}(e)},error:h})},t.getCookie=function(e){for(var t={},n=[],r=document.cookie.split(";"),a=0,o=r.length;a<o;a++)r[a]&&(n=r[a].split("="),t[n[0].trim()]=n[1].trim());return t[e]};var a=r(n(6)),o=r(n(7)),i=r(n(2)),c=n(12),s=r(n(3)),d=r(n(13));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={customerId:"",adPlan:"",content:{},extend:{},extParams:{},size:{},containerSelector:"test",adType:"0",success:i.default,error:i.default};function p(e){return"string"==typeof e?e&&"{}"!==e?JSON.parse(e):{}:e}function m(e){var t=b(767)?"pc":"mb",n={width:"",height:""};return e&&0!==Object.keys(e).length&&Object.keys(e).forEach((function(r){-1!==r.toLowerCase().indexOf(t)&&(n.width=e[r].width||"100%",n.height=e[r].height||"100%")})),n}function v(e){var t=e.extend,n=l(l({},e),p(t)),r=n.customerId,a=n.adType,o=n.content,i=n.size,c=n.adPlan,d=n.adName,u=n.adSpace,f=n.abTest,v=n.abVersion,b=n.recChannel,_=[];if("0"===a)_.push(h(n,_));else if((0,s.default)(o,"Array")){var y=function(e){var t=JSON.parse(JSON.stringify(e));if(!window.existadAssetIdList.length&&t.length)return window.existadAssetIdList.push(JSON.parse(t[0].extend).adAssetId),t.splice(0,1);(t=t.filter((function(e){return!window.existadAssetIdList.includes(JSON.parse(e.extend).adAssetId)}))).length&&window.existadAssetIdList.push(JSON.parse(t[0].extend).adAssetId);return t.splice(0,1)||[]}(o);if(!y.length)return _.push(h(e,_)),!1;for(var g=m(i),w=g.width,x=g.height,O=0;O<y.length;O++){var j={href:"",assetUrl:"",mate:{},height:"",width:"",assetId:"",assetName:""},P=p(y[O].extend),I=P.assetUrl,S={ad_name:d,ad_plan:c,ad_space:u,ab_test:f,ab_version:v,ad_assetId:P.adAssetId,ad_assetname:P.assetName,rec_channel:b,rec_position:y.length+1,rec_account:r,rec_material:y[O].id,rec_source:y[O].source};y[O]&&(j.href=P.targetUrl,j.mate=S,j.width=w,j.height=x,j.assetUrl=I,j.assetId=P.adAssetId,j.assetName=P.assetName),j.assetUrl&&_.push(j)}}else _.push(h(e,_));return _}function h(e,t){var n,r,a,o=e.extend,i=l(l({},e),p(o)),c=i.customerId,d=i.adType,u=i.content,f=i.size,v=i.adPlan,h=i.adName,_=i.adSpace,y=i.recChannel,g=i.recMaterial;if((0,s.default)(u.img,"Array"));else if((0,s.default)(u.img,"Object")){var w=u.img,x=u.href,O=m(f),j=O.width,P=O.height,I=(n=w,r=b(767)?"pc":"mb",a={assetUrl:"",assetId:"",assetName:""},Object.keys(n).forEach((function(e){a.assetUrl=n[r],-1!==e.indexOf("".concat(r,"_asset_id"))&&(a.assetId=n[e]),-1!==e.indexOf("".concat(r,"_asset_name"))&&(a.assetName=n[e])})),a);return{href:x,mate:{ad_name:h,ad_plan:v,ad_space:_,ad_assetId:null==I?void 0:I.assetId,rec_channel:y||"",ad_assetname:null==I?void 0:I.assetName,rec_position:t.length+1,rec_account:c,rec_material:g,rec_source:"0"===d||"1"===d?"mannul_fixed":"mannul_targeted"},assetUrl:I.assetUrl,width:j,height:P}}return{}}function b(e){var t="mediaQuery"+(new Date).getTime(),n='<span class="'+t+'"><style>.'+t+"{font-size: 0 !important;}@media(min-width: "+e+"px){."+t+"{font-size: 20px !important;}}</style></span>",r=$("body").append(n).find("."+t),a="20px"===r.css("font-size");return r.remove(),a}window.existadAssetIdList=[]},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(8),a=n(9),o=n(10),i=n(11);e.exports=function(e){return r(e)||a(e)||o(e)||i()}},function(e,t,n){var r=n(1);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.ajaxMultiple=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.default,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.default,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.default,o=0,c=0,s=[],d=function(a,d){s.push(a);var u=e[a],l=u.success;u.success=function(e){o++,c++,s.splice(a,1,e),l&&l(e),o>=d&&t.apply(void 0,s),c>=d&&r.apply(void 0,s)};var f=u.error,p=!1;u.error=function(e){c++,s.splice(a,1,e),f&&f(e),!1===p&&(p=!0,n()),c>=d&&r.apply(void 0,s)},i(u)},u=0,l=e.length;u<l;u++)d(u,l)};var a=r(n(2)),o=r(n(3));function i(e){var t,n=e.method,r=void 0===n?"GET":n,a=e.url,i=void 0===a?"":a,c=e.data,s=void 0===c?{}:c,d=e.success,u=void 0===d?function(){}:d,l=e.error,f=void 0===l?function(){}:l,p=e.headers,m=void 0===p?{}:p,v=e.xhrFields,h=void 0===v?{}:v;r=r.toLocaleUpperCase(),(0,o.default)(s,"Object")&&(t=function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(void 0===r)continue;null===r&&(r=""),t+="".concat(n,"=").concat(encodeURIComponent(e[n]),"&")}return t.slice(0,-1)}(s));var b=new XMLHttpRequest;if("GET"===r&&(0,o.default)(t,"String")&&(-1===i.indexOf("?")?i+="?".concat(t):i+="&".concat(t)),b.open(r,i,!0),b.onreadystatechange=function(){4===b.readyState&&(200===b.status?u(JSON.parse(b.responseText)):f(b.responseText))},(0,o.default)(m,"Object"))for(var _ in m)m.hasOwnProperty(_)&&b.setRequestHeader(_,m[_]);for(var y in h)h.hasOwnProperty(y)&&(b[y]=h[y]);"POST"===r?(!1===m||m["Content-Type"]||b.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),b.send((0,o.default)(t,"String")?t:s)):b.send()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getBoundingClientRect();if(!t)return!1;var n=document.documentElement,r=n.clientWidth,a=n.clientHeight,o=t.top,i=t.right,c=t.bottom,s=t.left;return(o>0&&o<=a||c>0&&c<=a||o<0&&c>=a)&&(s>0&&s<=r||i>0&&i<=r||s<0&&i>=r)}}])}));