(function($){"use strict";function safeAdd(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535}function bitRotateLeft(num,cnt){return num<<cnt|num>>>32-cnt}function md5cmn(q,a,b,x,s,t){return safeAdd(bitRotateLeft(safeAdd(safeAdd(a,q),safeAdd(x,t)),s),b)}function md5ff(a,b,c,d,x,s,t){return md5cmn(b&c|~b&d,a,b,x,s,t)}function md5gg(a,b,c,d,x,s,t){return md5cmn(b&d|c&~d,a,b,x,s,t)}function md5hh(a,b,c,d,x,s,t){return md5cmn(b^c^d,a,b,x,s,t)}function md5ii(a,b,c,d,x,s,t){return md5cmn(c^(b|~d),a,b,x,s,t)}function binlMD5(x,len){x[len>>5]|=128<<len%32;x[(len+64>>>9<<4)+14]=len;var i;var olda;var oldb;var oldc;var oldd;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;a=md5ff(a,b,c,d,x[i],7,-680876936);d=md5ff(d,a,b,c,x[i+1],12,-389564586);c=md5ff(c,d,a,b,x[i+2],17,606105819);b=md5ff(b,c,d,a,x[i+3],22,-1044525330);a=md5ff(a,b,c,d,x[i+4],7,-176418897);d=md5ff(d,a,b,c,x[i+5],12,1200080426);c=md5ff(c,d,a,b,x[i+6],17,-1473231341);b=md5ff(b,c,d,a,x[i+7],22,-45705983);a=md5ff(a,b,c,d,x[i+8],7,1770035416);d=md5ff(d,a,b,c,x[i+9],12,-1958414417);c=md5ff(c,d,a,b,x[i+10],17,-42063);b=md5ff(b,c,d,a,x[i+11],22,-1990404162);a=md5ff(a,b,c,d,x[i+12],7,1804603682);d=md5ff(d,a,b,c,x[i+13],12,-40341101);c=md5ff(c,d,a,b,x[i+14],17,-1502002290);b=md5ff(b,c,d,a,x[i+15],22,1236535329);a=md5gg(a,b,c,d,x[i+1],5,-165796510);d=md5gg(d,a,b,c,x[i+6],9,-1069501632);c=md5gg(c,d,a,b,x[i+11],14,643717713);b=md5gg(b,c,d,a,x[i],20,-373897302);a=md5gg(a,b,c,d,x[i+5],5,-701558691);d=md5gg(d,a,b,c,x[i+10],9,38016083);c=md5gg(c,d,a,b,x[i+15],14,-660478335);b=md5gg(b,c,d,a,x[i+4],20,-405537848);a=md5gg(a,b,c,d,x[i+9],5,568446438);d=md5gg(d,a,b,c,x[i+14],9,-1019803690);c=md5gg(c,d,a,b,x[i+3],14,-187363961);b=md5gg(b,c,d,a,x[i+8],20,1163531501);a=md5gg(a,b,c,d,x[i+13],5,-1444681467);d=md5gg(d,a,b,c,x[i+2],9,-51403784);c=md5gg(c,d,a,b,x[i+7],14,1735328473);b=md5gg(b,c,d,a,x[i+12],20,-1926607734);a=md5hh(a,b,c,d,x[i+5],4,-378558);d=md5hh(d,a,b,c,x[i+8],11,-2022574463);c=md5hh(c,d,a,b,x[i+11],16,1839030562);b=md5hh(b,c,d,a,x[i+14],23,-35309556);a=md5hh(a,b,c,d,x[i+1],4,-1530992060);d=md5hh(d,a,b,c,x[i+4],11,1272893353);c=md5hh(c,d,a,b,x[i+7],16,-155497632);b=md5hh(b,c,d,a,x[i+10],23,-1094730640);a=md5hh(a,b,c,d,x[i+13],4,681279174);d=md5hh(d,a,b,c,x[i],11,-358537222);c=md5hh(c,d,a,b,x[i+3],16,-722521979);b=md5hh(b,c,d,a,x[i+6],23,76029189);a=md5hh(a,b,c,d,x[i+9],4,-640364487);d=md5hh(d,a,b,c,x[i+12],11,-421815835);c=md5hh(c,d,a,b,x[i+15],16,530742520);b=md5hh(b,c,d,a,x[i+2],23,-995338651);a=md5ii(a,b,c,d,x[i],6,-198630844);d=md5ii(d,a,b,c,x[i+7],10,1126891415);c=md5ii(c,d,a,b,x[i+14],15,-1416354905);b=md5ii(b,c,d,a,x[i+5],21,-57434055);a=md5ii(a,b,c,d,x[i+12],6,1700485571);d=md5ii(d,a,b,c,x[i+3],10,-1894986606);c=md5ii(c,d,a,b,x[i+10],15,-1051523);b=md5ii(b,c,d,a,x[i+1],21,-2054922799);a=md5ii(a,b,c,d,x[i+8],6,1873313359);d=md5ii(d,a,b,c,x[i+15],10,-30611744);c=md5ii(c,d,a,b,x[i+6],15,-1560198380);b=md5ii(b,c,d,a,x[i+13],21,1309151649);a=md5ii(a,b,c,d,x[i+4],6,-145523070);d=md5ii(d,a,b,c,x[i+11],10,-1120210379);c=md5ii(c,d,a,b,x[i+2],15,718787259);b=md5ii(b,c,d,a,x[i+9],21,-343485551);a=safeAdd(a,olda);b=safeAdd(b,oldb);c=safeAdd(c,oldc);d=safeAdd(d,oldd)}return[a,b,c,d]}function binl2rstr(input){var i;var output="";var length32=input.length*32;for(i=0;i<length32;i+=8){output+=String.fromCharCode(input[i>>5]>>>i%32&255)}return output}function rstr2binl(input){var i;var output=[];output[(input.length>>2)-1]=undefined;for(i=0;i<output.length;i+=1){output[i]=0}var length8=input.length*8;for(i=0;i<length8;i+=8){output[i>>5]|=(input.charCodeAt(i/8)&255)<<i%32}return output}function rstrMD5(s){return binl2rstr(binlMD5(rstr2binl(s),s.length*8))}function rstrHMACMD5(key,data){var i;var bkey=rstr2binl(key);var ipad=[];var opad=[];var hash;ipad[15]=opad[15]=undefined;if(bkey.length>16){bkey=binlMD5(bkey,key.length*8)}for(i=0;i<16;i+=1){ipad[i]=bkey[i]^909522486;opad[i]=bkey[i]^1549556828}hash=binlMD5(ipad.concat(rstr2binl(data)),512+data.length*8);return binl2rstr(binlMD5(opad.concat(hash),512+128))}function rstr2hex(input){var hexTab="0123456789abcdef";var output="";var x;var i;for(i=0;i<input.length;i+=1){x=input.charCodeAt(i);output+=hexTab.charAt(x>>>4&15)+hexTab.charAt(x&15)}return output}function str2rstrUTF8(input){return unescape(encodeURIComponent(input))}function rawMD5(s){return rstrMD5(str2rstrUTF8(s))}function hexMD5(s){return rstr2hex(rawMD5(s))}function rawHMACMD5(k,d){return rstrHMACMD5(str2rstrUTF8(k),str2rstrUTF8(d))}function hexHMACMD5(k,d){return rstr2hex(rawHMACMD5(k,d))}function md5(string,key,raw){if(!key){if(!raw){return hexMD5(string)}return rawMD5(string)}if(!raw){return hexHMACMD5(key,string)}return rawHMACMD5(key,string)}$.md5=md5})(window||this);(function(global,factory){global=typeof globalThis!=="undefined"?globalThis:global||self,factory(global.JSONPath={})})(this,function(exports){"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function(){};return{s:F,n:function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function(){it=o[Symbol.iterator]()},n:function(){var step=it.next();normalCompletion=step.done;return step},e:function(e){didErr=true;err=e},f:function(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}var hasOwnProp=Object.prototype.hasOwnProperty;function push(arr,item){arr=arr.slice();arr.push(item);return arr}function unshift(item,arr){arr=arr.slice();arr.unshift(item);return arr}var NewError=function(_Error){_inherits(NewError,_Error);var _super=_createSuper(NewError);function NewError(value){var _this;_classCallCheck(this,NewError);_this=_super.call(this,'JSONPath should not be called with "new" (it prevents return '+"of (unwrapped) scalar values)");_this.avoidNew=true;_this.value=value;_this.name="NewError";return _this}return NewError}(_wrapNativeSuper(Error));function JSONPath(opts,expr,obj,callback,otherTypeCallback){if(!(this instanceof JSONPath)){try{return new JSONPath(opts,expr,obj,callback,otherTypeCallback)}catch(e){if(!e.avoidNew){throw e}return e.value}}if(typeof opts==="string"){otherTypeCallback=callback;callback=obj;obj=expr;expr=opts;opts=null}var optObj=opts&&_typeof(opts)==="object";opts=opts||{};this.json=opts.json||obj;this.path=opts.path||expr;this.resultType=opts.resultType||"value";this.flatten=opts.flatten||false;this.wrap=hasOwnProp.call(opts,"wrap")?opts.wrap:true;this.sandbox=opts.sandbox||{};this.preventEval=opts.preventEval||false;this.parent=opts.parent||null;this.parentProperty=opts.parentProperty||null;this.callback=opts.callback||callback||null;this.otherTypeCallback=opts.otherTypeCallback||otherTypeCallback||function(){throw new TypeError("You must supply an otherTypeCallback callback option "+"with the @other() operator.")};if(opts.autostart!==false){var args={path:optObj?opts.path:expr};if(!optObj){args.json=obj}else if("json"in opts){args.json=opts.json}var ret=this.evaluate(args);if(!ret||_typeof(ret)!=="object"){throw new NewError(ret)}return ret}}JSONPath.prototype.evaluate=function(expr,json,callback,otherTypeCallback){var _this2=this;var currParent=this.parent,currParentProperty=this.parentProperty;var flatten=this.flatten,wrap=this.wrap;this.currResultType=this.resultType;this.currPreventEval=this.preventEval;this.currSandbox=this.sandbox;callback=callback||this.callback;this.currOtherTypeCallback=otherTypeCallback||this.otherTypeCallback;json=json||this.json;expr=expr||this.path;if(expr&&_typeof(expr)==="object"&&!Array.isArray(expr)){if(!expr.path&&expr.path!==""){throw new TypeError('You must supply a "path" property when providing an object '+"argument to JSONPath.evaluate().")}if(!hasOwnProp.call(expr,"json")){throw new TypeError('You must supply a "json" property when providing an object '+"argument to JSONPath.evaluate().")}var _expr=expr;json=_expr.json;flatten=hasOwnProp.call(expr,"flatten")?expr.flatten:flatten;this.currResultType=hasOwnProp.call(expr,"resultType")?expr.resultType:this.currResultType;this.currSandbox=hasOwnProp.call(expr,"sandbox")?expr.sandbox:this.currSandbox;wrap=hasOwnProp.call(expr,"wrap")?expr.wrap:wrap;this.currPreventEval=hasOwnProp.call(expr,"preventEval")?expr.preventEval:this.currPreventEval;callback=hasOwnProp.call(expr,"callback")?expr.callback:callback;this.currOtherTypeCallback=hasOwnProp.call(expr,"otherTypeCallback")?expr.otherTypeCallback:this.currOtherTypeCallback;currParent=hasOwnProp.call(expr,"parent")?expr.parent:currParent;currParentProperty=hasOwnProp.call(expr,"parentProperty")?expr.parentProperty:currParentProperty;expr=expr.path}currParent=currParent||null;currParentProperty=currParentProperty||null;if(Array.isArray(expr)){expr=JSONPath.toPathString(expr)}if(!expr&&expr!==""||!json){return undefined}this._obj=json;var exprList=JSONPath.toPathArray(expr);if(exprList[0]==="$"&&exprList.length>1){exprList.shift()}this._hasParentSelector=null;var result=this._trace(exprList,json,["$"],currParent,currParentProperty,callback).filter(function(ea){return ea&&!ea.isParentSelector});if(!result.length){return wrap?[]:undefined}if(!wrap&&result.length===1&&!result[0].hasArrExpr){return this._getPreferredOutput(result[0])}return result.reduce(function(rslt,ea){var valOrPath=_this2._getPreferredOutput(ea);if(flatten&&Array.isArray(valOrPath)){rslt=rslt.concat(valOrPath)}else{rslt.push(valOrPath)}return rslt},[])};JSONPath.prototype._getPreferredOutput=function(ea){var resultType=this.currResultType;switch(resultType){case"all":{var path=Array.isArray(ea.path)?ea.path:JSONPath.toPathArray(ea.path);ea.pointer=JSONPath.toPointer(path);ea.path=typeof ea.path==="string"?ea.path:JSONPath.toPathString(ea.path);return ea}case"value":case"parent":case"parentProperty":return ea[resultType];case"path":return JSONPath.toPathString(ea[resultType]);case"pointer":return JSONPath.toPointer(ea.path);default:throw new TypeError("Unknown result type")}};JSONPath.prototype._handleCallback=function(fullRetObj,callback,type){if(callback){var preferredOutput=this._getPreferredOutput(fullRetObj);fullRetObj.path=typeof fullRetObj.path==="string"?fullRetObj.path:JSONPath.toPathString(fullRetObj.path);callback(preferredOutput,type,fullRetObj)}};JSONPath.prototype._trace=function(expr,val,path,parent,parentPropName,callback,hasArrExpr,literalPriority){var _this3=this;var retObj;if(!expr.length){retObj={path:path,value:val,parent:parent,parentProperty:parentPropName,hasArrExpr:hasArrExpr};this._handleCallback(retObj,callback,"value");return retObj}var loc=expr[0],x=expr.slice(1);var ret=[];function addRet(elems){if(Array.isArray(elems)){elems.forEach(function(t){ret.push(t)})}else{ret.push(elems)}}if((typeof loc!=="string"||literalPriority)&&val&&hasOwnProp.call(val,loc)){addRet(this._trace(x,val[loc],push(path,loc),val,loc,callback,hasArrExpr))}else if(loc==="*"){this._walk(loc,x,val,path,parent,parentPropName,callback,function(m,l,_x,v,p,par,pr,cb){addRet(_this3._trace(unshift(m,_x),v,p,par,pr,cb,true,true))})}else if(loc===".."){addRet(this._trace(x,val,path,parent,parentPropName,callback,hasArrExpr));this._walk(loc,x,val,path,parent,parentPropName,callback,function(m,l,_x,v,p,par,pr,cb){if(_typeof(v[m])==="object"){addRet(_this3._trace(unshift(l,_x),v[m],push(p,m),v,m,cb,true))}})}else if(loc==="^"){this._hasParentSelector=true;return{path:path.slice(0,-1),expr:x,isParentSelector:true}}else if(loc==="~"){retObj={path:push(path,loc),value:parentPropName,parent:parent,parentProperty:null};this._handleCallback(retObj,callback,"property");return retObj}else if(loc==="$"){addRet(this._trace(x,val,path,null,null,callback,hasArrExpr))}else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(loc)){addRet(this._slice(loc,x,val,path,parent,parentPropName,callback))}else if(loc.indexOf("?(")===0){if(this.currPreventEval){throw new Error("Eval [?(expr)] prevented in JSONPath expression.")}this._walk(loc,x,val,path,parent,parentPropName,callback,function(m,l,_x,v,p,par,pr,cb){if(_this3._eval(l.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),v[m],m,p,par,pr)){addRet(_this3._trace(unshift(m,_x),v,p,par,pr,cb,true))}})}else if(loc[0]==="("){if(this.currPreventEval){throw new Error("Eval [(expr)] prevented in JSONPath expression.")}addRet(this._trace(unshift(this._eval(loc,val,path[path.length-1],path.slice(0,-1),parent,parentPropName),x),val,path,parent,parentPropName,callback,hasArrExpr))}else if(loc[0]==="@"){var addType=false;var valueType=loc.slice(1,-2);switch(valueType){case"scalar":if(!val||!["object","function"].includes(_typeof(val))){addType=true}break;case"boolean":case"string":case"undefined":case"function":if(_typeof(val)===valueType){addType=true}break;case"integer":if(Number.isFinite(val)&&!(val%1)){addType=true}break;case"number":if(Number.isFinite(val)){addType=true}break;case"nonFinite":if(typeof val==="number"&&!Number.isFinite(val)){addType=true}break;case"object":if(val&&_typeof(val)===valueType){addType=true}break;case"array":if(Array.isArray(val)){addType=true}break;case"other":addType=this.currOtherTypeCallback(val,path,parent,parentPropName);break;case"null":if(val===null){addType=true}break;default:throw new TypeError("Unknown value type "+valueType)}if(addType){retObj={path:path,value:val,parent:parent,parentProperty:parentPropName};this._handleCallback(retObj,callback,"value");return retObj}}else if(loc[0]==="`"&&val&&hasOwnProp.call(val,loc.slice(1))){var locProp=loc.slice(1);addRet(this._trace(x,val[locProp],push(path,locProp),val,locProp,callback,hasArrExpr,true))}else if(loc.includes(",")){var parts=loc.split(",");var _iterator=_createForOfIteratorHelper(parts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var part=_step.value;addRet(this._trace(unshift(part,x),val,path,parent,parentPropName,callback,true))}}catch(err){_iterator.e(err)}finally{_iterator.f()}}else if(!literalPriority&&val&&hasOwnProp.call(val,loc)){addRet(this._trace(x,val[loc],push(path,loc),val,loc,callback,hasArrExpr,true))}if(this._hasParentSelector){for(var t=0;t<ret.length;t++){var rett=ret[t];if(rett&&rett.isParentSelector){var tmp=this._trace(rett.expr,val,rett.path,parent,parentPropName,callback,hasArrExpr);if(Array.isArray(tmp)){ret[t]=tmp[0];var tl=tmp.length;for(var tt=1;tt<tl;tt++){t++;ret.splice(t,0,tmp[tt])}}else{ret[t]=tmp}}}}return ret};JSONPath.prototype._walk=function(loc,expr,val,path,parent,parentPropName,callback,f){if(Array.isArray(val)){var n=val.length;for(var i=0;i<n;i++){f(i,loc,expr,val,path,parent,parentPropName,callback)}}else if(val&&_typeof(val)==="object"){Object.keys(val).forEach(function(m){f(m,loc,expr,val,path,parent,parentPropName,callback)})}};JSONPath.prototype._slice=function(loc,expr,val,path,parent,parentPropName,callback){if(!Array.isArray(val)){return undefined}var len=val.length,parts=loc.split(":"),step=parts[2]&&Number.parseInt(parts[2])||1;var start=parts[0]&&Number.parseInt(parts[0])||0,end=parts[1]&&Number.parseInt(parts[1])||len;start=start<0?Math.max(0,start+len):Math.min(len,start);end=end<0?Math.max(0,end+len):Math.min(len,end);var ret=[];for(var i=start;i<end;i+=step){var tmp=this._trace(unshift(i,expr),val,path,parent,parentPropName,callback,true);tmp.forEach(function(t){ret.push(t)})}return ret};JSONPath.prototype._eval=function(code,_v,_vname,path,parent,parentPropName){if(!this._obj||!_v){return false}if(code.includes("@parentProperty")){this.currSandbox._$_parentProperty=parentPropName;code=code.replace(/@parentProperty/g,"_$_parentProperty")}if(code.includes("@parent")){this.currSandbox._$_parent=parent;code=code.replace(/@parent/g,"_$_parent")}if(code.includes("@property")){this.currSandbox._$_property=_vname;code=code.replace(/@property/g,"_$_property")}if(code.includes("@path")){this.currSandbox._$_path=JSONPath.toPathString(path.concat([_vname]));code=code.replace(/@path/g,"_$_path")}if(code.includes("@root")){this.currSandbox._$_root=this.json;code=code.replace(/@root/g,"_$_root")}if(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(code)){this.currSandbox._$_v=_v;code=code.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1")}try{return this.vm.runInNewContext(code,this.currSandbox)}catch(e){console.log(e);throw new Error("jsonPath: "+e.message+": "+code)}};JSONPath.cache={};JSONPath.toPathString=function(pathArr){var x=pathArr,n=x.length;var p="$";for(var i=1;i<n;i++){if(!/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(x[i])){p+=/^[\*0-9]+$/.test(x[i])?"["+x[i]+"]":"['"+x[i]+"']"}}return p};JSONPath.toPointer=function(pointer){var x=pointer,n=x.length;var p="";for(var i=1;i<n;i++){if(!/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(x[i])){p+="/"+x[i].toString().replace(/~/g,"~0").replace(/\//g,"~1")}}return p};JSONPath.toPathArray=function(expr){var cache=JSONPath.cache;if(cache[expr]){return cache[expr].concat()}var subx=[];var normalized=expr.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function($0,$1){return"[#"+(subx.push($1)-1)+"]"}).replace(/\['((?:(?!['\]])[\s\S])*)'\]/g,function($0,prop){return"['"+prop.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?!(?:(?!\[)[\s\S])*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function($0,ups){return";"+ups.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"");var exprList=normalized.split(";").map(function(exp){var match=exp.match(/#([0-9]+)/);return!match||!match[1]?exp:subx[match[1]]});cache[expr]=exprList;return cache[expr]};var moveToAnotherArray=function moveToAnotherArray(source,target,conditionCb){var il=source.length;for(var i=0;i<il;i++){var item=source[i];if(conditionCb(item)){target.push(source.splice(i--,1)[0])}}};JSONPath.prototype.vm={runInNewContext:function runInNewContext(expr,context){var keys=Object.keys(context);var funcs=[];moveToAnotherArray(keys,funcs,function(key){return typeof context[key]==="function"});var values=keys.map(function(vr,i){return context[vr]});var funcString=funcs.reduce(function(s,func){var fString=context[func].toString();if(!/function/.test(fString)){fString="function "+fString}return"var "+func+"="+fString+";"+s},"");expr=funcString+expr;if(!/(["'])use strict\1/.test(expr)&&!keys.includes("arguments")){expr="var arguments = undefined;"+expr}expr=expr.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"");var lastStatementEnd=expr.lastIndexOf(";");var code=lastStatementEnd>-1?expr.slice(0,lastStatementEnd+1)+" return "+expr.slice(lastStatementEnd+1):" return "+expr;return _construct(Function,_toConsumableArray(keys).concat([code])).apply(void 0,_toConsumableArray(values))}};exports.JSONPath=JSONPath;Object.defineProperty(exports,"__esModule",{value:true})});(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory():factory()})(this,function(){"use strict";function finallyConstructor(callback){var constructor=this.constructor;return this.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){return constructor.reject(reason)})})}var setTimeoutFunc=setTimeout;function isArray(x){return Boolean(x&&typeof x.length!=="undefined")}function noop(){}function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise(fn){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if(typeof fn!=="function")throw new TypeError("not a function");this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];doResolve(fn,this)}function handle(self,deferred){while(self._state===3){self=self._value}if(self._state===0){self._deferreds.push(deferred);return}self._handled=true;Promise._immediateFn(function(){var cb=self._state===1?deferred.onFulfilled:deferred.onRejected;if(cb===null){(self._state===1?resolve:reject)(deferred.promise,self._value);return}var ret;try{ret=cb(self._value)}catch(e){reject(deferred.promise,e);return}resolve(deferred.promise,ret)})}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&(typeof newValue==="object"||typeof newValue==="function")){var then=newValue.then;if(newValue instanceof Promise){self._state=3;self._value=newValue;finale(self);return}else if(typeof then==="function"){doResolve(bind(then,newValue),self);return}}self._state=1;self._value=newValue;finale(self)}catch(e){reject(self,e)}}function reject(self,newValue){self._state=2;self._value=newValue;finale(self)}function finale(self){if(self._state===2&&self._deferreds.length===0){Promise._immediateFn(function(){if(!self._handled){Promise._unhandledRejectionFn(self._value)}})}for(var i=0,len=self._deferreds.length;i<len;i++){handle(self,self._deferreds[i])}self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled=typeof onFulfilled==="function"?onFulfilled:null;this.onRejected=typeof onRejected==="function"?onRejected:null;this.promise=promise}function doResolve(fn,self){var done=false;try{fn(function(value){if(done)return;done=true;resolve(self,value)},function(reason){if(done)return;done=true;reject(self,reason)})}catch(ex){if(done)return;done=true;reject(self,ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);handle(this,new Handler(onFulfilled,onRejected,prom));return prom};Promise.prototype["finally"]=finallyConstructor;Promise.all=function(arr){return new Promise(function(resolve,reject){if(!isArray(arr)){return reject(new TypeError("Promise.all accepts an array"))}var args=Array.prototype.slice.call(arr);if(args.length===0)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&(typeof val==="object"||typeof val==="function")){var then=val.then;if(typeof then==="function"){then.call(val,function(val){res(i,val)},reject);return}}args[i]=val;if(--remaining===0){resolve(args)}}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++){res(i,args[i])}})};Promise.resolve=function(value){if(value&&typeof value==="object"&&value.constructor===Promise){return value}return new Promise(function(resolve){resolve(value)})};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})};Promise.race=function(arr){return new Promise(function(resolve,reject){if(!isArray(arr)){return reject(new TypeError("Promise.race accepts an array"))}for(var i=0,len=arr.length;i<len;i++){Promise.resolve(arr[i]).then(resolve,reject)}})};Promise._immediateFn=typeof setImmediate==="function"&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)};Promise._unhandledRejectionFn=function _unhandledRejectionFn(err){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",err)}};var globalNS=function(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")}();if(typeof globalNS["Promise"]!=="function"){globalNS["Promise"]=Promise}else if(!globalNS.Promise.prototype["finally"]){globalNS.Promise.prototype["finally"]=finallyConstructor}});var originFetch=window.fetch;var FetchInterceptor=function(){function FetchInterceptor(){}FetchInterceptor.start=function(){var _this=this;if(this.started){return}this.started=true;this.interceptors={request:[],response:[]};window.fetch=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}var hookRequest={};try{hookRequest=_this.interceptors.request(args)}catch(error){}return new Promise(function(resolve,reject){return originFetch.apply(void 0,args).then(function(response){try{_this.interceptors.response(response,hookRequest)}catch(error){}resolve(response)},reject)})}};FetchInterceptor.register=function(obj){this.start();if(obj.request){this.interceptors.request=obj.request}if(obj.response){this.interceptors.response=obj.response}};FetchInterceptor.started=false;return FetchInterceptor}();if(typeof wiseTrace==="undefined"){(function($){"use strict";var DEFAULT_NEED_USERID_HASH=false;var DEFAULT_NEED_COOKIE=true;var DEFAULT_NEED_TRACEID=false;var DEFAULT_NEED_IMPORT_TINYREPORTER_JS=true;var DEFAULT_NEED_IMPORT_PMP_JS=true;var GROUPID_VERSION="3";var MAX_TEXT_LENGTH=24;var DEFAULT_REPORT_DOMAIN="excpt.huaweicloud.com";var REPORT_REQ_PARAM=true;var wiseTrace={};var T;var byteToHex=[];var getRandomValues;wiseTrace.version=GROUPID_VERSION;wiseTrace.cookieTime=5e3;wiseTrace.reportTime=5e3;wiseTrace.reportApiUrl="https://"+DEFAULT_REPORT_DOMAIN+"/api/ca/v1/template";wiseTrace.queryId="kafkaSendMessageProduce";wiseTrace.cloudCookieDomain=".huaweicloud.com";wiseTrace.intfInvokeLogs=[];wiseTrace.noIntfInvokeLogs=[];wiseTrace.apiAutoReport=false;wiseTrace.domainId="";wiseTrace._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";wiseTrace.needUserIdHash=DEFAULT_NEED_USERID_HASH;wiseTrace.needCookie=DEFAULT_NEED_COOKIE;wiseTrace.needTraceId=DEFAULT_NEED_TRACEID;wiseTrace.needImportTinyReporterJs=DEFAULT_NEED_IMPORT_TINYREPORTER_JS;wiseTrace.needImportPmpJs=DEFAULT_NEED_IMPORT_PMP_JS;wiseTrace.PRODUCT_REG=".huaweicloud.com|.huaweisre.com|cloudbi.huawei.com|cloudcrm.huawei.com";wiseTrace.configLists=[{urlReg:"file://"},{urlReg:"cloudbi.huawei.com"},{urlReg:"account.huaweicloud.com"},{urlReg:"account-intl.huaweicloud.com",userIdHash:true,needCookie:false,reportDomain:"portal-intl.huaweicloud.com"},{urlReg:"console.huaweicloud.com/ecm/",traceId:true},{urlReg:"cbcmc.huaweisre.com"},{urlReg:"cbcmc-intl.huaweisre.com",reportDomain:"portal-intl.huaweicloud.com"},{urlReg:"(www|activity|support).huaweicloud.com(?!/intl/)"},{urlReg:"marketplace.huaweicloud.com(?!/intl/)|console.huaweicloud.com/marketplace/"},{urlReg:"(bbs|developer|edu).huaweicloud.com(?!/intl/)"},{urlReg:"reg.huaweicloud.com"},{urlReg:"cloudcrm.huawei.com"},{urlReg:"cloudcrm-intl.(huaweicloud|huawei).com",reportDomain:"portal-intl.huaweicloud.com"},{urlReg:"finance.huawei.com",userIdHash:true,needCookie:false},{urlReg:"auth.huaweicloud.com"}];wiseTrace.extInfo={};wiseTrace.URL_WHITELIST_DOMAINS_REG="(portal|mkpdata).huaweicloud.com|mcloud-uat.huawei.com|w3m.huawei.com";wiseTrace.ANGULAR=["cloudbi.huawei.com","cloudcrm.huawei.com|cloudcrm-intl.(huaweicloud|huawei).com"];wiseTrace.REFRESHTIMEINTERVAL=5e3;wiseTrace.requestUrlMaps={};wiseTrace.hash_param="param";wiseTrace.hash_param_value="";wiseTrace.WHITELIST_HASH=["#/ecs/createVm"];wiseTrace.isConsole=false;wiseTrace.API_BLICKLIST_REG="/rest/silvan|/rest/v1.0/.*/tracker$|/rest/mc|https://excpt.huaweicloud.com/api/monitor";wiseTrace.codeWhiteList=["1000","200","91200000","91290000","91310000","CMM.0000","DEV.0000","MKT.0000","success","0","00000","CBC.00000000","CBC.0000"];wiseTrace.realXhr="RealXMLHttpRequest";wiseTrace.hash="";wiseTrace.requestMap={};wiseTrace.PROXY=["v1/proxy/app-api"];wiseTrace.jsonPathConfig={};wiseTrace.pageConfigUrl="https://excpt.huaweicloud.com/api/monitor/api/cbcmc/v1/query/pagelog/report";wiseTrace.body_size=200;wiseTrace.hookRequest=function(param){var requestId=wiseTrace.generateUUID();try{wiseTrace.requestMap[requestId]=param;wiseTrace.requestMap[requestId].groupId=window.wiseLinkInfo;wiseTrace.requestMap[requestId].requestTime=+new Date}catch(error){}return requestId};wiseTrace.getApiConfigByPath=function(){var config;try{var url=wiseTrace.getPreGroupUrl();if(wiseTrace.jsonPathConfig&&wiseTrace.jsonPathConfig.rules){var maxIndex=0;for(var key in wiseTrace.jsonPathConfig.rules){var index=url.indexOf(key);if(key&&wiseTrace.jsonPathConfig.rules[key]&&index>-1){if(maxIndex<=index){maxIndex=index;config=wiseTrace.jsonPathConfig.rules[key]}}}}}catch(error){}return config};wiseTrace.getApiPatchConfig=function(url){var jsonPathConfig;try{var congfig=wiseTrace.getApiConfigByPath();if(congfig){for(var key in congfig){if(congfig[key]&&congfig[key].req){if(congfig[key].mode===0){if(url.indexOf(key)>-1){jsonPathConfig=congfig[key];break}}else if(new RegExp(key).test(url)){jsonPathConfig=congfig[key];break}}}}}catch(error){}return jsonPathConfig};wiseTrace.getFiled=function(tdata,url,failed,isRes,max){var result;var data={};try{if(!tdata){return{max:max,result:result}}if(typeof tdata==="string"){data=JSON.parse(tdata)}else{data=tdata}var config=wiseTrace.getApiPatchConfig(url);var rule=[];if(config&&(config.case===1||failed)){rule=config.req;if(isRes){rule=config.res}if(rule.length){for(var i=0;i<rule.length;i++){if(max>0){var tmpdata=JSONPath.JSONPath(rule[i],data);if(tmpdata.length){var tmpStr=JSON.stringify(tmpdata);tmpStr=tmpStr.substring(0,max);max-=tmpStr.length;if(!result){result={}}result[rule[i]]=tmpStr}}else{break}}}}}catch(error){}return{max:max,result:result}};wiseTrace.initJsonPathConfig=function(){$.ajax({type:"POST",dataType:"json",timeout:2e3,contentType:"text/plain",url:wiseTrace.pageConfigUrl,data:JSON.stringify({pageUrl:location.protocol+"//"+wiseTrace.getPreGroupUrl()}),success:function(data){wiseTrace.jsonPathConfig=data;if(wiseTrace.jsonPathConfig&&wiseTrace.jsonPathConfig.size){if(wiseTrace.jsonPathConfig.size>wiseTrace.body_size){wiseTrace.body_size=wiseTrace.jsonPathConfig.size}}}})};wiseTrace.getIframe=function(){var parentUrl="";try{if(top!=self){parentUrl=document.referrer}}catch(err){}return parentUrl};wiseTrace.setDomainId=function(domainId){wiseTrace.domainId=domainId};wiseTrace.getCBCCode=function(data){var retCode="0";if(data&&data.retCode){retCode=data.retCode}else if(data&&data.resultCode){retCode=data.resultCode}else if(data&&data.error_code){retCode=data.error_code}else if(data&&data.errCode){retCode=data.errCode}else if(data&&data.code){retCode=data.code}else if(data&&data.exceptionId){retCode=data.exceptionId}return retCode};wiseTrace.base64Decode=function(input){function _utf8_decode(utftext){var string="";var i=0;var c=0;var c1=0;var c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++}else if(c>191&&c<224){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode((c&31)<<6|c2&63);i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63);i+=3}}return string}var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=wiseTrace._keyStr.indexOf(input.charAt(i++));enc2=wiseTrace._keyStr.indexOf(input.charAt(i++));enc3=wiseTrace._keyStr.indexOf(input.charAt(i++));enc4=wiseTrace._keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}if(enc4!=64){output=output+String.fromCharCode(chr3)}}output=_utf8_decode(output);return output};wiseTrace.hookAjax=function(proxy){window[wiseTrace.realXhr]=window[wiseTrace.realXhr]||XMLHttpRequest;XMLHttpRequest=function(){var xhr=new window[wiseTrace.realXhr];for(var attr in xhr){var type="";try{type=typeof xhr[attr]}catch(e){}if(type==="function"){this[attr]=hookFunction(attr)}else{Object.defineProperty(this,attr,{get:getterFactory(attr),set:setterFactory(attr),enumerable:true})}}this.xhr=xhr};function getterFactory(attr){return function(){var v=this.hasOwnProperty(attr+"_")?this[attr+"_"]:this.xhr[attr];var attrGetterHook=(proxy[attr]||{})["getter"];return attrGetterHook&&attrGetterHook(v,this)||v}}function setterFactory(attr){return function(v){var xhr=this.xhr;var that=this;var hook=proxy[attr];if(typeof hook==="function"){xhr[attr]=function(){try{proxy[attr](that)||v.apply(xhr,arguments)}catch(err){}}}else{var attrSetterHook=(hook||{})["setter"];v=attrSetterHook&&attrSetterHook(v,that)||v;try{xhr[attr]=v}catch(e){this[attr+"_"]=v}}}}function hookFunction(fun){return function(){var args=[].slice.call(arguments);if(proxy[fun]&&proxy[fun].call(this,args,this.xhr)){return}try{return this.xhr[fun].apply(this.xhr,args)}catch(err){console&&console.log(err)}}}return window[wiseTrace.realXhr]};wiseTrace.unHookAjax=function(){if(window[wiseTrace.realXhr])XMLHttpRequest=window[wiseTrace.realXhr];window[wiseTrace.realXhr]=undefined};wiseTrace.getRootScope=function(){var tmpRootScope;try{tmpRootScope=$("html").scope()}catch(err){}return tmpRootScope};wiseTrace.getDeviceId=function(){var deviceId=wiseTrace.getCookie("deviceid");try{if(!deviceId&&window["localStorage"]&&window["localStorage"]["getItem"]("deviceid")){deviceId=window["localStorage"]["getItem"]("deviceid");wiseTrace.setCookie("deviceid",deviceId,31536e8)}else if(deviceId&&window["localStorage"]){window["localStorage"]["setItem"]("deviceid",deviceId)}else{deviceId=wiseTrace.generateUUID();if(window["localStorage"]){window["localStorage"]["setItem"]("deviceid",deviceId)}wiseTrace.setCookie("deviceid",deviceId,31536e8)}}catch(err){}return deviceId};wiseTrace.getQueryString=function(name){var tmpRootScope=wiseTrace.getRootScope();var regionCode;try{var reg=new RegExp("(^|&)"+name+"=([^&]*)(&|$)");var r=window.location.search.substr(1).match(reg);if(r){regionCode=unescape(r[2])}else if(tmpRootScope&&tmpRootScope.selectRegionId){regionCode=tmpRootScope.selectRegionId}else{regionCode=""}}catch(e){regionCode=""}return regionCode};wiseTrace.signed_crc_table=function(){var c=0,table=new Array(256);for(var n=0;n!=256;++n){c=n;c=c&1?-306674912^c>>>1:c>>>1;c=c&1?-306674912^c>>>1:c>>>1;c=c&1?-306674912^c>>>1:c>>>1;c=c&1?-306674912^c>>>1:c>>>1;c=c&1?-306674912^c>>>1:c>>>1;c=c&1?-306674912^c>>>1:c>>>1;c=c&1?-306674912^c>>>1:c>>>1;c=c&1?-306674912^c>>>1:c>>>1;table[n]=c}return typeof Int32Array!=="undefined"?new Int32Array(table):table};wiseTrace.trimEmpty=function(value){if(!value){return""}return value.replace(/(^\s*)|(\s*$)/g,"")};wiseTrace.generateUUID=function(){var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var d=(new Date).getTime();var uuid="xxxxyxxx".replace(/[xy]/g,function(c){var rnum=(d+Math.random()*62)%62|0;var r=chars.charAt(rnum);return(c=="x"?r:r&3|8).toString(16)});return uuid};wiseTrace.getCookieDomain=function(){var host=location.hostname;var ip=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;try{if(ip.test(host)===true||host==="localhost"){return host}var regex=/([^]*).*/;var match=host.match(regex);if(typeof match!=="undefined"&&null!==match){host=match[1]}if(typeof host!=="undefined"&&null!==host){var strAry=host.split(".");if(strAry.length>1){host=strAry[strAry.length-2]+"."+strAry[strAry.length-1]}}}catch(err){}return"."+host};wiseTrace.randomValue=function(){for(var i=0;i<256;++i){byteToHex[i]=(i+256).toString(16).substr(1)}getRandomValues=typeof window.crypto!=="undefined"&&window.crypto.getRandomValues&&window.crypto.getRandomValues.bind(window.crypto)||typeof window.msCrypto!=="undefined"&&typeof window.msCrypto.getRandomValues==="function"&&window.msCrypto.getRandomValues.bind(window.msCrypto);if(!getRandomValues){getRandomValues=function(array){for(var i=0,r;i<array.length;i++){if((i&3)===0){r=Math.random()*4294967296}array[i]=r>>>((i&3)<<3)&255}return array}}};wiseTrace.traceUuid=function(len){var bytes=null;var uuid="";try{if(getRandomValues){if(typeof Uint8Array!=="undefined"){bytes=new Uint8Array(len||16)}else{bytes=new Array(len||16)}getRandomValues(bytes);if(bytes&&bytes.length){for(var i=0;i<bytes.length;i++){uuid+=byteToHex[bytes[i]]}}}}catch(err){}return uuid};wiseTrace.isInConfig=function(href){var isInConfigList=false;try{for(var i=0;i<wiseTrace.configLists.length;i++){var configItem=wiseTrace.configLists[i];if(configItem.urlReg&&href&&new RegExp(configItem.urlReg).test(href)){isInConfigList=true;if(typeof configItem.needCookie!=="undefined"){wiseTrace.needCookie=configItem.needCookie}if(typeof configItem.userIdHash!=="undefined"){wiseTrace.needUserIdHash=configItem.userIdHash}if(typeof configItem.needTraceId!=="undefined"){wiseTrace.needTraceId=configItem.needTraceId}if(typeof configItem.needImportTinyReporterJs!=="undefined"){wiseTrace.needImportTinyReporterJs=configItem.needImportTinyReporterJs}if(typeof configItem.needImportPmpJs!=="undefined"){wiseTrace.needImportPmpJs=configItem.needImportPmpJs}if(typeof configItem.reportDomain!=="undefined"){wiseTrace.reportApiUrl="https://"+configItem.reportDomain+"/api/ca/v1/template"}if(wiseTrace.needCookie){if(configItem.cloudCookieDomain){wiseTrace.cloudCookieDomain=configItem.cloudCookieDomain}else{wiseTrace.cloudCookieDomain=wiseTrace.getCookieDomain()}}break}}}catch(error){}return isInConfigList};wiseTrace.setReportToTestEnv=function(){wiseTrace.reportApiUrl="https://portal.ulanqab.huawei.com/api/ca/v1/template"};wiseTrace.initConfig=function(){try{if(window.frameworkVersion&&typeof customiseVer==="undefined"){wiseTrace.isConsole=true}var href=document&&document.location&&document.location.href;href=href&&href.split("?")[0];if(wiseTrace.isInConfig(href)){wiseTrace.apiAutoReport=true;if(wiseTrace.needTraceId){wiseTrace.randomValue()}}else if(href&&wiseTrace.PRODUCT_REG&&new RegExp(wiseTrace.PRODUCT_REG).test(href)){wiseTrace.apiAutoReport=false}else{wiseTrace.apiAutoReport=true;wiseTrace.setReportToTestEnv();wiseTrace.cookieTime=15e3;if(wiseTrace.isConsole){wiseTrace.randomValue()}wiseTrace.cloudCookieDomain=wiseTrace.getCookieDomain()}if(wiseTrace.apiAutoReport){wiseTrace.initJsonPathConfig()}}catch(error){}};wiseTrace.apiWhiteListCheck=function(url){var flag=false;if(url!==wiseTrace.reportApiUrl&&!url.match(/\.(json|js|html|svg|jpg|png|gif)/)){if(wiseTrace.API_BLICKLIST_REG&&new RegExp(wiseTrace.API_BLICKLIST_REG).test(url)){flag=false}else{if(url.indexOf("http")===-1||window&&window.location&&window.location.host&&url.indexOf(window.location.host)>-1){flag=true}else{if(url&&wiseTrace.URL_WHITELIST_DOMAINS_REG&&new RegExp(wiseTrace.URL_WHITELIST_DOMAINS_REG).test(url)){flag=true}}}}return flag};wiseTrace.reportApi=function(syn){var domainId=wiseTrace.getDomainId(true);var params=[];var tmpIntfLogMap={};var groupIdMap={};try{if(wiseTrace.intfInvokeLogs&&wiseTrace.intfInvokeLogs.length){wiseTrace.intfInvokeLogs.map(function(intfInvokeLog){var tmpGroupId=wiseTrace.CRC32(intfInvokeLog.groupId);groupIdMap[tmpGroupId]=intfInvokeLog.groupId;var tmpIntfInvokeLog={};if(intfInvokeLog.traceId){tmpIntfInvokeLog.traceId=intfInvokeLog.traceId}if(intfInvokeLog.reqParam){tmpIntfInvokeLog.reqParam=intfInvokeLog.reqParam}tmpIntfInvokeLog.url=intfInvokeLog.url;tmpIntfInvokeLog.cbcCode=intfInvokeLog.cbcCode;if(intfInvokeLog.method){tmpIntfInvokeLog.method=intfInvokeLog.method}if(intfInvokeLog.reqFiled){tmpIntfInvokeLog.reqFiled=intfInvokeLog.reqFiled}if(intfInvokeLog.resFiled){tmpIntfInvokeLog.resFiled=intfInvokeLog.resFiled}tmpIntfInvokeLog.cbc=intfInvokeLog.cbc;tmpIntfInvokeLog.startTime=intfInvokeLog.startTime;tmpIntfInvokeLog.delay=intfInvokeLog.delay;tmpIntfInvokeLog.retCode=intfInvokeLog.retCode;if(!tmpIntfLogMap[tmpGroupId]){tmpIntfLogMap[tmpGroupId]=[]}tmpIntfLogMap[tmpGroupId].push(tmpIntfInvokeLog)});wiseTrace.intfInvokeLogs=[];for(var i in tmpIntfLogMap){if(tmpIntfLogMap[i]&&tmpIntfLogMap[i].length){var tmpObj={};tmpObj.intfLogs=tmpIntfLogMap[i];if(groupIdMap[i]&&wiseTrace.extInfo[groupIdMap[i]]){tmpObj.extInfo=wiseTrace.extInfo[groupIdMap[i]]}if(groupIdMap[i]&&groupIdMap[i].indexOf("$domainId$")>-1){if(domainId==="$domainId$"){domainId=""}groupIdMap[i]=groupIdMap[i].replace("$domainId$",domainId)}tmpObj.groupId=groupIdMap[i];params.push(tmpObj)}}}if(params&&params.length){$.ajax({type:"POST",dataType:"json",async:syn,timeout:2e3,contentType:"text/plain",url:wiseTrace.reportApiUrl,data:JSON.stringify({queryId:wiseTrace.queryId,params:{pageLog:params}})})}}catch(e){}};wiseTrace.getPreGroupUrl=function(){var preGroupUrl;var hash=wiseTrace.hash;try{if(document&&document.location&&document.location.host){if(!hash){hash=window.location.hash;try{if(hash.indexOf("?")>-1){hash=hash.split("?")[0]}}catch(e){}}preGroupUrl=document.location.host;if(document.location.pathname){preGroupUrl+=document.location.pathname}if(hash&&hash.indexOf("#")===-1){preGroupUrl+="#"+hash}else{preGroupUrl+=hash}if(hash&&$.inArray(hash,wiseTrace.WHITELIST_HASH)>-1&&wiseTrace.hash_param_value){preGroupUrl+="?"+wiseTrace.hash_param+"="+wiseTrace.hash_param_value}}else if(document&&document.location&&document.location.pathname){preGroupUrl=document.location.pathname+document.location.hash}}catch(e){preGroupUrl=""}return preGroupUrl};wiseTrace.base64Encode=function(input){function _utf8_encode(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c)}else if(c>127&&c<2048){utftext+=String.fromCharCode(c>>6|192);utftext+=String.fromCharCode(c&63|128)}else{utftext+=String.fromCharCode(c>>12|224);utftext+=String.fromCharCode(c>>6&63|128);utftext+=String.fromCharCode(c&63|128)}}return utftext}var output="";try{var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=_utf8_encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}output=output+wiseTrace._keyStr.charAt(enc1)+wiseTrace._keyStr.charAt(enc2)+wiseTrace._keyStr.charAt(enc3)+wiseTrace._keyStr.charAt(enc4)}}catch(e){output=""}return output};wiseTrace.getDomainId=function(isNeedReplace){var tmpDomainId="";try{if(typeof jsonParamInit!=="undefined"){tmpDomainId=jsonParamInit["UserAccount"]}else if(typeof domainId!="undefined"){tmpDomainId=domainId}else{var tmpRootScope=wiseTrace.getRootScope();if(tmpRootScope&&tmpRootScope.domainId){tmpDomainId=tmpRootScope.domainId}}if(!tmpDomainId&&typeof _ubaParams!=="undefined"){tmpDomainId=_ubaParams&&_ubaParams.userAccount}}catch(e){}if(!tmpDomainId&&wiseTrace.domainId){tmpDomainId=wiseTrace.domainId}if(!tmpDomainId||tmpDomainId==="root"||tmpDomainId==="host"){if(isNeedReplace){tmpDomainId="$domainId$"}else{tmpDomainId=""}}else if(wiseTrace.needUserIdHash){tmpDomainId="**"+md5(tmpDomainId)}return tmpDomainId};wiseTrace.getPhysicalResolution=function(){var resolution="";try{resolution=window.screen.width+"x"+window.screen.height}catch(error){}return resolution};wiseTrace.getWebAvail=function(){var resolution="";try{resolution=document.body.clientWidth+"x"+document.body.clientHeight}catch(error){}return resolution};wiseTrace.clientType=function(){var type=0;if(!!/pcloudApp/i.test(navigator.userAgent)){type=2}else if(!!navigator.userAgent.match(/AppleWebKit.*Mobile.*/)){type=1}return type};wiseTrace.setLinkInfo=function(opt){var tmpDomainId=wiseTrace.getDomainId(true);try{var fromgroupidhash="";var deviceId=wiseTrace.getDeviceId();var timeStamp=(new Date).getTime();var region=wiseTrace.getQueryString("region");var pageId="";var pos="";if(opt){if(window.wiseLinkInfo){fromgroupidhash=window.wiseLinkInfo}pageId=wiseTrace.getPreGroupUrl()+"|"+opt.id+"|"+opt.text;pos=opt.postion}else{if(window.lastPageGroupId){fromgroupidhash=window.lastPageGroupId}pageId=wiseTrace.getPreGroupUrl()+"||"}window.wiseLinkInfo=wiseTrace.version+"."+wiseTrace.base64Encode(pageId)+"."+tmpDomainId+"."+deviceId+"."+timeStamp;wiseTrace.extInfo[window.wiseLinkInfo]={from:fromgroupidhash,rgn:region,ct:wiseTrace.clientType(),scnres:wiseTrace.getPhysicalResolution(),brwres:wiseTrace.getWebAvail(),pos:pos,iframe:wiseTrace.getIframe()};if(!opt){wiseTrace.extInfo[window.wiseLinkInfo].referer=document&&document.referrer}if(!opt&&!wiseTrace.intfInvokeLogs.length){wiseTrace.intfInvokeLogs.push({groupId:window.wiseLinkInfo,startTime:(new Date).getTime(),url:""})}}catch(e){}};wiseTrace.getElementId=function(event){var id="0";try{if(event.target&&event.target.id){id=event.target.id}else{id=$(event.target).parent().attr("id");if(!id){id=$(event.target).parent().parent().attr("id");if(!id){id=$(event.target).parent().parent().parent().attr("id")}}}}catch(e){}if(!id){id="0"}return id};wiseTrace.getXpath=function(node){var path="";try{for(;node&&node.nodeType==Node.ELEMENT_NODE;node=node.parentNode){var prevIndex=0;for(var sib=node.previousElementSibling;sib;sib=sib.previousElementSibling){if(sib.tagName===node.tagName){prevIndex++}}var nextIndex=0;for(var sib=node.nextElementSibling;sib;sib=sib.nextElementSibling){if(sib.tagName===node.tagName){nextIndex++}}var xname=node.tagName.toLowerCase();if(prevIndex>=1||nextIndex>=1){xname+="["+(prevIndex+1)+"]"}path="/"+xname+path}}catch(err){}return path};wiseTrace.getBiName=function(event){var bi_name="";try{var count=1;var tmpElement=event&&event.target;var bi_name_arr=[];while($(tmpElement)&&$(tmpElement).length&&count<20){var tmpBiName=$(tmpElement).attr("bi_name");if(!tmpBiName){var tmpBiParentName=$(tmpElement).attr("bi_parent_name");if(tmpBiParentName){bi_name_arr.push(tmpBiParentName)}}else{bi_name_arr.push(tmpBiName)}tmpElement=$(tmpElement)&&$(tmpElement).parent()&&$(tmpElement).parent().get(0);count++}if(bi_name_arr&&bi_name_arr.length){bi_name_arr=bi_name_arr.reverse();bi_name=bi_name_arr.join("_");bi_name=bi_name.replace(/\|/g,"_")}}catch(error){}return bi_name};wiseTrace.initClick=function(){$(document).on("mousedown touchstart","div,button,span,a,li,input,select",function(event){if(event&&window.clickTimeStamp!==event.timeStamp){var postion=event.clientX+"x"+event.clientY;var id=wiseTrace.getElementId(event);if(id=="0"&&event.target){id=wiseTrace.getBiName(event);if(!id){id=wiseTrace.getXpath(event.target)}}var text=event.target&&event.target.textContent;if(!text){text=event.target&&event.target.value}if(!text){text=""}if(!id){id="0"}window.clickTimeStamp=event.timeStamp;wiseTrace.setCookie("plgid",window.pageGroupId,wiseTrace.cookieTime);var opt={id:id,eventAction:"",text:text&&text.substring(0,MAX_TEXT_LENGTH),postion:postion};wiseTrace.setLinkInfo(opt)}})};wiseTrace.setCookie=function(cname,cvalue,t){if(wiseTrace.needCookie){var d=new Date;d.setTime(d.getTime()+t);var expires="expires="+d.toUTCString();if(t){document.cookie=cname+"="+cvalue+";"+expires+";path=/;domain="+wiseTrace.cloudCookieDomain}else{document.cookie=cname+"="+cvalue+";path=/;domain="+wiseTrace.cloudCookieDomain}}};wiseTrace.getCookie=function(key){var value="";try{if(wiseTrace.needCookie){if(document.cookie){var consoleCookies=document.cookie.split(";");var cookie;for(var i=0;i<consoleCookies.length;i++){cookie=consoleCookies[i].split("=");if(cookie&&cookie.length>=2&&key===wiseTrace.trimEmpty(cookie[0])){value=wiseTrace.trimEmpty(cookie[1]);break}}}}}catch(err){}return value};wiseTrace.CRC32=function(str,seed){var C=seed^-1;for(var i=0,L=str.length,c,d;i<L;){c=str.charCodeAt(i++);if(c<128){C=C>>>8^T[(C^c)&255]}else if(c<2048){C=C>>>8^T[(C^(192|c>>6&31))&255];C=C>>>8^T[(C^(128|c&63))&255]}else if(c>=55296&&c<57344){c=(c&1023)+64;d=str.charCodeAt(i++)&1023;C=C>>>8^T[(C^(240|c>>8&7))&255];C=C>>>8^T[(C^(128|c>>2&63))&255];C=C>>>8^T[(C^(128|d>>6&15|(c&3)<<4))&255];C=C>>>8^T[(C^(128|d&63))&255]}else{C=C>>>8^T[(C^(224|c>>12&15))&255];C=C>>>8^T[(C^(128|c>>6&63))&255];C=C>>>8^T[(C^(128|c&63))&255]}}return C^-1};wiseTrace.getXMLRequestAndResponseInfo=function(jqXHR){var tmpObj={cbc:true};tmpObj.url=jqXHR.responseURL;if(!tmpObj.url){tmpObj.url=jqXHR.reqUrl}if(jqXHR.groupId){tmpObj.groupId=jqXHR.groupId}if(jqXHR.method){tmpObj.method=jqXHR.method}if(jqXHR["requestTime"]){tmpObj.startTime=jqXHR["requestTime"];tmpObj.delay=(new Date).getTime()-tmpObj.startTime}if(jqXHR["traceId"]){tmpObj.traceId=jqXHR["traceId"]}return tmpObj};wiseTrace.setFiled=function(tmpObj,req,resp,url,isFailed){var reqRsp=wiseTrace.getFiled(req,url,isFailed,false,wiseTrace.body_size);tmpObj.reqFiled=reqRsp.result;var resRsp=wiseTrace.getFiled(resp,url,isFailed,true,reqRsp.max);tmpObj.resFiled=resRsp.result;if(tmpObj.reqFiled&&!REPORT_REQ_PARAM){tmpObj.reqParam=""}return tmpObj};wiseTrace.start=function(xhr){var data;if(xhr.readyState==4){var responseURL=xhr.responseURL;if(!responseURL){responseURL=xhr.reqUrl}if(xhr.status==200){data=xhr.response;if(!xhr.responseType&&xhr.response){try{data=JSON.parse(xhr.response)}catch(err){}}try{if(responseURL&&wiseTrace.apiWhiteListCheck(responseURL)){var tmpObj=wiseTrace.getXMLRequestAndResponseInfo(xhr);if(xhr.getResponseHeader("wise_traceid")){tmpObj.traceId=xhr.getResponseHeader("wise_traceid")}tmpObj.retCode=""+xhr.status;tmpObj.cbcCode=wiseTrace.getCBCCode(data);var isFailed=true;if($.inArray(tmpObj.cbcCode,wiseTrace.codeWhiteList)>-1){isFailed=false}else if(xhr.reqParam){tmpObj.reqParam=xhr.reqParam}tmpObj=wiseTrace.setFiled(tmpObj,xhr.reqFiled,data,responseURL,isFailed);if(wiseTrace.apiAutoReport&&tmpObj.groupId){wiseTrace.intfInvokeLogs.push(tmpObj)}}}catch(e){}}else{try{data=xhr.response;if(!xhr.responseType&&xhr.response){try{data=JSON.parse(xhr.response)}catch(err){}}if(responseURL&&wiseTrace.apiWhiteListCheck(responseURL)){var tmpObj=wiseTrace.getXMLRequestAndResponseInfo(xhr);if(xhr.getResponseHeader("wise_traceid")){tmpObj.traceId=xhr.getResponseHeader("wise_traceid")}if(xhr.status){tmpObj.retCode=""+xhr.status}else{tmpObj.retCode="-1"}if(xhr.reqParam){tmpObj.reqParam=xhr.reqParam}tmpObj=wiseTrace.setFiled(tmpObj,xhr.reqFiled,data,responseURL,true);tmpObj.cbcCode=wiseTrace.getCBCCode(data);if(wiseTrace.apiAutoReport&&tmpObj.groupId){wiseTrace.intfInvokeLogs.push(tmpObj)}}}catch(e){}}}};wiseTrace.initStateChange=function(tmpRootScope){var flag=false;tmpRootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){try{if(toParams&&toParams[wiseTrace.hash_param]){wiseTrace.hash_param_value=toParams[wiseTrace.hash_param]}var injector=angular.element(document.body).injector();var $state=injector.get("$state");wiseTrace.hash=$state.href(toState.name);if(window.pageGroupId&&flag){window.lastPageGroupId=window.pageGroupId}else{flag=true}wiseTrace.setLinkInfo();window.pageGroupId=window.wiseLinkInfo}catch(err){}})};wiseTrace.complete=function(){wiseTrace.start(this)};wiseTrace.init=function(){wiseTrace.initClick();T=wiseTrace.signed_crc_table();try{FetchInterceptor&&FetchInterceptor.register({request:function(_a){var url=_a[0];var headers=_a[1];var traceId="";if(window.wiseLinkInfo&&wiseTrace.apiWhiteListCheck(url)){if(wiseTrace.isConsole){traceId=wiseTrace.traceUuid();headers.headers["X-B3-Sampled"]=1;headers.headers["X-B3-TraceId"]=traceId;if(traceId){headers.headers["X-B3-SpanId"]=traceId.substring(16,32)}}if(window.wiseLinkInfo&&window.wiseLinkInfo.indexOf("$domainId$")>-1){headers.headers["wise-groupid"]=window.wiseLinkInfo.replace("$domainId$","")}else{headers.headers["wise-groupid"]=window.wiseLinkInfo}return{responseURL:url,body:headers.body,method:headers.method,traceId:traceId,groupId:window.wiseLinkInfo,requestTime:Date.now()}}},response:function(resp,hookRequest){var cloneResponse=resp.clone();var url=cloneResponse.url;var retCode=cloneResponse.status;if(url&&wiseTrace.apiWhiteListCheck(url)){var wise_traceid=resp.headers.get("wise_traceid");cloneResponse.json().then(function(data){var tmpObj=wiseTrace.getXMLRequestAndResponseInfo(hookRequest);if(wise_traceid){tmpObj.traceId=wise_traceid}tmpObj.retCode=""+retCode;tmpObj.cbcCode=wiseTrace.getCBCCode(data);var isFailed=true;if($.inArray(tmpObj.cbcCode,wiseTrace.codeWhiteList)>-1){isFailed=false}else if(hookRequest.body){tmpObj.reqParam=hookRequest.body.substring(0,200)}tmpObj=wiseTrace.setFiled(tmpObj,hookRequest.body,data,url,isFailed);if(wiseTrace.apiAutoReport&&tmpObj.groupId){wiseTrace.intfInvokeLogs.push(tmpObj)}}).catch(function(error){})}}})}catch(error){}wiseTrace.hookAjax({onreadystatechange:function(xhr){wiseTrace.start(xhr)},onload:function(xhr){wiseTrace.start(xhr)},send:function(arg,xhr){try{var traceId;if(window.wiseLinkInfo&&wiseTrace.apiWhiteListCheck(xhr.reqUrl)){var t=(new Date).getTime();if(wiseTrace.isConsole){traceId=wiseTrace.traceUuid();this.setRequestHeader("X-B3-Sampled",1);this.setRequestHeader("X-B3-TraceId",traceId);if(traceId){this.setRequestHeader("X-B3-SpanId",traceId.substring(16,32));xhr.traceId=traceId;this.traceId=traceId}}if(window.wiseLinkInfo&&window.wiseLinkInfo.indexOf("$domainId$")>-1){this.setRequestHeader("wise-groupid",window.wiseLinkInfo.replace("$domainId$",""))}else{this.setRequestHeader("wise-groupid",window.wiseLinkInfo)}xhr.groupId=window.wiseLinkInfo;xhr.requestTime=t;if(arg&&arg[0]&&typeof arg[0]=="string"){this.reqParam=arg[0].substring(0,200);this.reqFiled=arg[0]}this.groupId=xhr.groupId;this.requestTime=t}}catch(err){}},open:function(arg,xhr){try{xhr.method=arg[0];xhr.reqUrl=arg[1];if(xhr&&xhr.reqUrl&&document&&document.location&&document.location.origin&&xhr.reqUrl.indexOf("http")===-1){xhr.reqUrl=document.location.origin+xhr.reqUrl}this.method=xhr.method;this.reqUrl=xhr.reqUrl;var host=document&&document.location&&document.location.host;if(host&&wiseTrace.ANGULAR.length&&new RegExp(wiseTrace.ANGULAR.join("|")).test(host)&&xhr["addEventListener"]){xhr["addEventListener"]("error",wiseTrace.complete);xhr["addEventListener"]("load",wiseTrace.complete);xhr["addEventListener"]("abort",wiseTrace.complete)}}catch(err){}}});if(!window.lastPageGroupId){window.lastPageGroupId=wiseTrace.getCookie("plgid")}if(window.lastPageGroupId){this.setCookie("plgid","",-1)}else{window.lastPageGroupId=""}var tmpRootScope=wiseTrace.getRootScope();if(tmpRootScope){wiseTrace.initStateChange(tmpRootScope)}else{wiseTrace.setLinkInfo();window.pageGroupId=window.wiseLinkInfo}setInterval(function(){wiseTrace.reportApi(true)},wiseTrace.reportTime)};wiseTrace.getDomain=function(){var tmpRootScope=wiseTrace.getRootScope();if(tmpRootScope){wiseTrace.initStateChange(tmpRootScope)}else{setTimeout(function(){wiseTrace.getDomain()},50)}};wiseTrace.bootstrap=function(){if(typeof angular!=="undefined"){var tmpRootScope=wiseTrace.getRootScope();wiseTrace.init();if(!tmpRootScope){wiseTrace.getDomain()}}else{wiseTrace.init()}};wiseTrace.initConfig();window.addEventListener("beforeunload",function(event){wiseTrace.reportApi(true)});if(window&&window.HWH5){window.addEventListener("hashchange",function(e){wiseTrace.setLinkInfo();window.pageGroupId=window.wiseLinkInfo})}if(wiseTrace.apiAutoReport){wiseTrace.bootstrap()}window.wiseTrace=wiseTrace})(window.$)}try{if(wiseTrace.needImportPmpJs){if(window&&!window.PMP){!function(c,b,d,a){c[a]||(c[a]={});var tm=b.createElement("script");tm.src=d;var s=b.getElementsByTagName("script")[0];s.parentNode.insertBefore(tm,s)}(window,document,"https://res-static1.huaweicloud.com/content/dam/cloudbu-site/archive/commons/web_resoure/framework/portal/pmp/pmp.js","_pmp")}}if(wiseTrace.needImportTinyReporterJs&&!window._tm){!function(c,b,d,a){c[a]||(c[a]={});var tm=b.createElement("script");tm.src=d;var s=b.getElementsByTagName("script")[0];s.parentNode.insertBefore(tm,s)}(window,document,"https://res-static1.huaweicloud.com/content/dam/cloudbu-site/archive/commons/web_resoure/tinyreporter/tinyReporter.min.js","_tm")}}catch(error){}